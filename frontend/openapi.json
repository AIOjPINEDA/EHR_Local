{
  "openapi": "3.1.0",
  "info": {
    "title": "ConsultaMed API",
    "description": "API para gestión de consultas médicas",
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login",
        "description": "Login endpoint.\n\nPara MVP: busca practitioner por email, password es \"demo\" para cualquier usuario.\nEn producción: integrar con Supabase Auth.",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_api_v1_auth_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get Me",
        "description": "Get current authenticated user.\n\nReturns practitioner data for the authenticated user.",
        "operationId": "get_me_api_v1_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PractitionerResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/patients/": {
      "get": {
        "tags": [
          "Patients"
        ],
        "summary": "List Patients",
        "description": "List patients with optional search.\n\n- Search by partial name or DNI (minimum 2 characters)\n- Paginated results",
        "operationId": "list_patients_api_v1_patients__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 2
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name or DNI",
              "title": "Search"
            },
            "description": "Search by name or DNI"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Patients"
        ],
        "summary": "Create Patient",
        "description": "Create new patient.\n\nValidates:\n- DNI format (Spanish DNI/NIE)\n- DNI uniqueness\n- Required fields",
        "operationId": "create_patient_api_v1_patients__post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/patients/{patient_id}": {
      "get": {
        "tags": [
          "Patients"
        ],
        "summary": "Get Patient",
        "description": "Get patient by ID.\n\nReturns full patient data including allergies and recent encounters.",
        "operationId": "get_patient_api_v1_patients__patient_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "patient_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Patient Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Patients"
        ],
        "summary": "Update Patient",
        "description": "Update patient data.",
        "operationId": "update_patient_api_v1_patients__patient_id__patch",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "patient_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Patient Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PatientUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PatientResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/patients/{patient_id}/allergies": {
      "get": {
        "tags": [
          "Patients"
        ],
        "summary": "List Allergies",
        "description": "List patient allergies.",
        "operationId": "list_allergies_api_v1_patients__patient_id__allergies_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "patient_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Patient Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AllergyResponse"
                  },
                  "title": "Response List Allergies Api V1 Patients  Patient Id  Allergies Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Patients"
        ],
        "summary": "Add Allergy",
        "description": "Add allergy to patient.",
        "operationId": "add_allergy_api_v1_patients__patient_id__allergies_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "patient_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Patient Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AllergyCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllergyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/patients/{patient_id}/allergies/{allergy_id}": {
      "delete": {
        "tags": [
          "Patients"
        ],
        "summary": "Remove Allergy",
        "description": "Remove allergy from patient.",
        "operationId": "remove_allergy_api_v1_patients__patient_id__allergies__allergy_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "patient_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Patient Id"
            }
          },
          {
            "name": "allergy_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Allergy Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/encounters/patient/{patient_id}": {
      "get": {
        "tags": [
          "Encounters"
        ],
        "summary": "List Patient Encounters",
        "description": "List all encounters for a patient.\n\nReturns encounters with conditions and medications.",
        "operationId": "list_patient_encounters_api_v1_encounters_patient__patient_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "patient_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Patient Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EncounterListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Encounters"
        ],
        "summary": "Create Encounter",
        "description": "Create new encounter for patient (FHIR Create interaction).\n\nCreates Encounter + Condition(s) + MedicationRequest(s).",
        "operationId": "create_encounter_api_v1_encounters_patient__patient_id__post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "patient_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Patient Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EncounterCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EncounterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/encounters/{encounter_id}": {
      "get": {
        "tags": [
          "Encounters"
        ],
        "summary": "Get Encounter",
        "description": "Get encounter by ID with full details.",
        "operationId": "get_encounter_api_v1_encounters__encounter_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "encounter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Encounter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EncounterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Encounters"
        ],
        "summary": "Update Encounter",
        "description": "Update an existing encounter (FHIR R5 Update interaction).\n\nReemplaza campos SOAP y sub-recursos (Conditions, Medications)\nmediante estrategia delete + recreate.",
        "operationId": "update_encounter_api_v1_encounters__encounter_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "encounter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Encounter Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EncounterUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EncounterResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/templates/": {
      "get": {
        "tags": [
          "Templates"
        ],
        "summary": "List Templates",
        "description": "List treatment templates.",
        "operationId": "list_templates_api_v1_templates__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search by name or diagnosis",
              "title": "Search"
            },
            "description": "Search by name or diagnosis"
          },
          {
            "name": "favorites_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Filter favorites only",
              "default": false,
              "title": "Favorites Only"
            },
            "description": "Filter favorites only"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TemplateListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Templates"
        ],
        "summary": "Create Template",
        "description": "Create new treatment template.",
        "operationId": "create_template_api_v1_templates__post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TemplateCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TemplateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/templates/match": {
      "get": {
        "tags": [
          "Templates"
        ],
        "summary": "Match Template",
        "description": "Find best matching template for a diagnosis.\n\nUsed for auto-loading treatment when selecting diagnosis.",
        "operationId": "match_template_api_v1_templates_match_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "diagnosis",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 2,
              "description": "Diagnosis text to match",
              "title": "Diagnosis"
            },
            "description": "Diagnosis text to match"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TemplateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/templates/{template_id}": {
      "get": {
        "tags": [
          "Templates"
        ],
        "summary": "Get Template",
        "description": "Get template by ID (incluye templates globales).",
        "operationId": "get_template_api_v1_templates__template_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "template_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Template Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TemplateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Templates"
        ],
        "summary": "Update Template",
        "description": "Update template. Solo templates propios (no globales).",
        "operationId": "update_template_api_v1_templates__template_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "template_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Template Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TemplateUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TemplateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Templates"
        ],
        "summary": "Delete Template",
        "description": "Delete template. Solo templates propios (no globales).",
        "operationId": "delete_template_api_v1_templates__template_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "template_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Template Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/prescriptions/{encounter_id}/preview": {
      "get": {
        "tags": [
          "Prescriptions"
        ],
        "summary": "Get Prescription Preview",
        "description": "Get prescription data for preview.\n\nReturns structured data for frontend preview component.",
        "operationId": "get_prescription_preview_api_v1_prescriptions__encounter_id__preview_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "encounter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Encounter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Prescription Preview Api V1 Prescriptions  Encounter Id  Preview Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/prescriptions/{encounter_id}/pdf": {
      "get": {
        "tags": [
          "Prescriptions"
        ],
        "summary": "Download Prescription Pdf",
        "description": "Generate prescription PDF.\n\nUses WeasyPrint to generate PDF from HTML template.",
        "operationId": "download_prescription_pdf_api_v1_prescriptions__encounter_id__pdf_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "encounter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Encounter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Health check endpoint.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Root  Get"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check for deployment monitoring.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": {
                    "type": "string"
                  },
                  "type": "object",
                  "title": "Response Health Check Health Get"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AllergyCreate": {
        "properties": {
          "code_text": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Code Text"
          },
          "type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(allergy|intolerance)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type"
          },
          "category": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(food|medication|environment|biologic)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "criticality": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(low|high|unable-to-assess)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Criticality"
          }
        },
        "type": "object",
        "required": [
          "code_text"
        ],
        "title": "AllergyCreate",
        "description": "Schema for creating an allergy."
      },
      "AllergyResponse": {
        "properties": {
          "code_text": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Code Text"
          },
          "type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(allergy|intolerance)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Type"
          },
          "category": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(food|medication|environment|biologic)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          },
          "criticality": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(low|high|unable-to-assess)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Criticality"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "clinical_status": {
            "type": "string",
            "title": "Clinical Status"
          },
          "recorded_date": {
            "type": "string",
            "format": "date-time",
            "title": "Recorded Date"
          }
        },
        "type": "object",
        "required": [
          "code_text",
          "id",
          "clinical_status",
          "recorded_date"
        ],
        "title": "AllergyResponse",
        "description": "Schema for allergy response."
      },
      "Body_login_api_v1_auth_login_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "password"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_api_v1_auth_login_post"
      },
      "ConditionCreate": {
        "properties": {
          "code_text": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Code Text",
            "description": "Texto del diagnóstico"
          },
          "code_coding_code": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Coding Code",
            "description": "Código CIE-10 u otro sistema de codificación"
          }
        },
        "type": "object",
        "required": [
          "code_text"
        ],
        "title": "ConditionCreate",
        "description": "Schema para crear una Condition (diagnóstico).\n\nAlineado con FHIR R5 Condition resource."
      },
      "ConditionResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Identificador único de la condición"
          },
          "code_text": {
            "type": "string",
            "title": "Code Text",
            "description": "Texto del diagnóstico"
          },
          "code_coding_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Code Coding Code",
            "description": "Código de clasificación (CIE-10, etc)"
          },
          "clinical_status": {
            "type": "string",
            "title": "Clinical Status",
            "description": "Estado clínico: active | resolved | inactive"
          }
        },
        "type": "object",
        "required": [
          "id",
          "code_text",
          "clinical_status"
        ],
        "title": "ConditionResponse",
        "description": "Condition response (FHIR R5 Condition resource).\n\nRepresenta un diagnóstico clínico como recurso atómico independiente."
      },
      "EncounterCreate": {
        "properties": {
          "reason_text": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason Text",
            "description": "Motivo de consulta"
          },
          "subjective_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subjective Text",
            "description": "Subjetivo (SOAP)"
          },
          "objective_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Objective Text",
            "description": "Objetivo (SOAP)"
          },
          "assessment_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assessment Text",
            "description": "Análisis/Evaluación (SOAP)"
          },
          "plan_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan Text",
            "description": "Plan de tratamiento (SOAP)"
          },
          "recommendations_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recommendations Text",
            "description": "Recomendaciones"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Nota libre (legacy)"
          },
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/ConditionCreate"
            },
            "type": "array",
            "title": "Conditions",
            "description": "Diagnósticos vinculados a esta consulta"
          },
          "medications": {
            "items": {
              "$ref": "#/components/schemas/MedicationCreate"
            },
            "type": "array",
            "title": "Medications",
            "description": "Prescripciones vinculadas a esta consulta"
          }
        },
        "type": "object",
        "title": "EncounterCreate",
        "description": "Schema para crear un Encounter (consulta médica).\n\nEstructura transaccional: crea Encounter + Conditions + Medications en una sola operación.\nAlineado con FHIR R5 Encounter resource."
      },
      "EncounterListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/EncounterResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "Lista de encounters"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total de resultados disponibles"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "EncounterListResponse",
        "description": "Respuesta paginada de encounters.\n\nFuture-proof: preparado para migrar a FHIR Bundle con paginación por cursores."
      },
      "EncounterResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Identificador único del encounter"
          },
          "subject_id": {
            "type": "string",
            "title": "Subject Id",
            "description": "Referencia al paciente (Patient.id)"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Estado: planned | in-progress | finished | cancelled"
          },
          "period_start": {
            "type": "string",
            "format": "date-time",
            "title": "Period Start",
            "description": "Fecha/hora de inicio del encounter"
          },
          "reason_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason Text",
            "description": "Motivo de consulta"
          },
          "subjective_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subjective Text",
            "description": "Subjetivo (SOAP)"
          },
          "objective_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Objective Text",
            "description": "Objetivo (SOAP)"
          },
          "assessment_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assessment Text",
            "description": "Análisis (SOAP)"
          },
          "plan_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan Text",
            "description": "Plan (SOAP)"
          },
          "recommendations_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recommendations Text",
            "description": "Recomendaciones"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Nota consolidada (legacy)"
          },
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/ConditionResponse"
            },
            "type": "array",
            "title": "Conditions",
            "description": "Diagnósticos de esta consulta"
          },
          "medications": {
            "items": {
              "$ref": "#/components/schemas/MedicationResponse"
            },
            "type": "array",
            "title": "Medications",
            "description": "Prescripciones de esta consulta"
          }
        },
        "type": "object",
        "required": [
          "id",
          "subject_id",
          "status",
          "period_start"
        ],
        "title": "EncounterResponse",
        "description": "Encounter response (FHIR R5 Encounter resource).\n\nIncluye recursos atómicos vinculados (Conditions, Medications)."
      },
      "EncounterUpdate": {
        "properties": {
          "reason_text": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason Text",
            "description": "Motivo de consulta"
          },
          "subjective_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Subjective Text",
            "description": "Subjetivo (SOAP)"
          },
          "objective_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Objective Text",
            "description": "Objetivo (SOAP)"
          },
          "assessment_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assessment Text",
            "description": "Análisis/Evaluación (SOAP)"
          },
          "plan_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Plan Text",
            "description": "Plan de tratamiento (SOAP)"
          },
          "recommendations_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recommendations Text",
            "description": "Recomendaciones"
          },
          "note": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Note",
            "description": "Nota libre (legacy)"
          },
          "conditions": {
            "items": {
              "$ref": "#/components/schemas/ConditionCreate"
            },
            "type": "array",
            "title": "Conditions",
            "description": "Diagnósticos (reemplazo completo)"
          },
          "medications": {
            "items": {
              "$ref": "#/components/schemas/MedicationCreate"
            },
            "type": "array",
            "title": "Medications",
            "description": "Prescripciones (reemplazo completo)"
          }
        },
        "type": "object",
        "title": "EncounterUpdate",
        "description": "Schema para actualizar un Encounter (FHIR R5 Update interaction).\n\nSemántica FHIR Update: reemplazo completo del contenido del recurso.\nLos campos omitidos (None) se limpian; conditions/medications se reemplazan."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "MedicationCreate": {
        "properties": {
          "medication_text": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Medication Text",
            "description": "Nombre del medicamento"
          },
          "dosage_text": {
            "type": "string",
            "maxLength": 500,
            "minLength": 1,
            "title": "Dosage Text",
            "description": "Pauta de dosificación"
          },
          "duration_value": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Value",
            "description": "Valor de duración del tratamiento"
          },
          "duration_unit": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Unit",
            "description": "Unidad de duración: días, semanas, meses"
          }
        },
        "type": "object",
        "required": [
          "medication_text",
          "dosage_text"
        ],
        "title": "MedicationCreate",
        "description": "Schema para crear una MedicationRequest (prescripción).\n\nAlineado con FHIR R5 MedicationRequest resource."
      },
      "MedicationItem": {
        "properties": {
          "medication": {
            "type": "string",
            "title": "Medication"
          },
          "dosage": {
            "type": "string",
            "title": "Dosage"
          },
          "duration": {
            "type": "string",
            "title": "Duration"
          }
        },
        "type": "object",
        "required": [
          "medication",
          "dosage",
          "duration"
        ],
        "title": "MedicationItem"
      },
      "MedicationResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "Identificador único de la prescripción"
          },
          "medication_text": {
            "type": "string",
            "title": "Medication Text",
            "description": "Nombre del medicamento"
          },
          "dosage_text": {
            "type": "string",
            "title": "Dosage Text",
            "description": "Pauta de dosificación"
          },
          "duration_value": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Value",
            "description": "Valor de duración"
          },
          "duration_unit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration Unit",
            "description": "Unidad de duración"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Estado de la prescripción: active | completed | cancelled"
          }
        },
        "type": "object",
        "required": [
          "id",
          "medication_text",
          "dosage_text",
          "status"
        ],
        "title": "MedicationResponse",
        "description": "MedicationRequest response (FHIR R5 MedicationRequest resource).\n\nRepresenta una prescripción médica como recurso atómico independiente."
      },
      "PatientCreate": {
        "properties": {
          "identifier_value": {
            "type": "string",
            "maxLength": 9,
            "minLength": 9,
            "title": "Identifier Value",
            "description": "DNI/NIE"
          },
          "name_given": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name Given"
          },
          "name_family": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name Family"
          },
          "birth_date": {
            "type": "string",
            "format": "date",
            "title": "Birth Date"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(male|female|other|unknown)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender"
          },
          "telecom_phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Telecom Phone"
          },
          "telecom_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telecom Email"
          }
        },
        "type": "object",
        "required": [
          "identifier_value",
          "name_given",
          "name_family",
          "birth_date"
        ],
        "title": "PatientCreate",
        "description": "Schema for creating a patient."
      },
      "PatientListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/PatientSummary"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "limit": {
            "type": "integer",
            "title": "Limit"
          },
          "offset": {
            "type": "integer",
            "title": "Offset"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total",
          "limit",
          "offset"
        ],
        "title": "PatientListResponse",
        "description": "Paginated list of patients."
      },
      "PatientResponse": {
        "properties": {
          "identifier_value": {
            "type": "string",
            "maxLength": 9,
            "minLength": 9,
            "title": "Identifier Value",
            "description": "DNI/NIE"
          },
          "name_given": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name Given"
          },
          "name_family": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name Family"
          },
          "birth_date": {
            "type": "string",
            "format": "date",
            "title": "Birth Date"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(male|female|other|unknown)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender"
          },
          "telecom_phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Telecom Phone"
          },
          "telecom_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telecom Email"
          },
          "id": {
            "type": "string",
            "title": "Id"
          },
          "age": {
            "type": "integer",
            "title": "Age"
          },
          "allergies": {
            "items": {
              "$ref": "#/components/schemas/AllergyResponse"
            },
            "type": "array",
            "title": "Allergies",
            "default": []
          },
          "meta_created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Meta Created At"
          },
          "meta_updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Meta Updated At"
          }
        },
        "type": "object",
        "required": [
          "identifier_value",
          "name_given",
          "name_family",
          "birth_date",
          "id",
          "age",
          "meta_created_at",
          "meta_updated_at"
        ],
        "title": "PatientResponse",
        "description": "Full patient response with allergies and encounters."
      },
      "PatientSummary": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "identifier_value": {
            "type": "string",
            "title": "Identifier Value"
          },
          "name_given": {
            "type": "string",
            "title": "Name Given"
          },
          "name_family": {
            "type": "string",
            "title": "Name Family"
          },
          "birth_date": {
            "type": "string",
            "format": "date",
            "title": "Birth Date"
          },
          "age": {
            "type": "integer",
            "title": "Age"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender"
          },
          "telecom_phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telecom Phone"
          },
          "has_allergies": {
            "type": "boolean",
            "title": "Has Allergies"
          },
          "allergy_count": {
            "type": "integer",
            "title": "Allergy Count"
          },
          "encounter_count": {
            "type": "integer",
            "title": "Encounter Count"
          },
          "last_encounter_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Encounter At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "identifier_value",
          "name_given",
          "name_family",
          "birth_date",
          "age",
          "gender",
          "telecom_phone",
          "has_allergies",
          "allergy_count",
          "encounter_count",
          "last_encounter_at"
        ],
        "title": "PatientSummary",
        "description": "Schema for patient in search results."
      },
      "PatientUpdate": {
        "properties": {
          "name_given": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name Given"
          },
          "name_family": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name Family"
          },
          "birth_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Date"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(male|female|other|unknown)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender"
          },
          "telecom_phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Telecom Phone"
          },
          "telecom_email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telecom Email"
          }
        },
        "type": "object",
        "title": "PatientUpdate",
        "description": "Schema for updating a patient (partial)."
      },
      "PractitionerResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "identifier_value": {
            "type": "string",
            "title": "Identifier Value"
          },
          "name_given": {
            "type": "string",
            "title": "Name Given"
          },
          "name_family": {
            "type": "string",
            "title": "Name Family"
          },
          "qualification_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qualification Code"
          },
          "telecom_email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Telecom Email"
          }
        },
        "type": "object",
        "required": [
          "id",
          "identifier_value",
          "name_given",
          "name_family",
          "qualification_code",
          "telecom_email"
        ],
        "title": "PractitionerResponse",
        "description": "Practitioner response schema."
      },
      "TemplateCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "diagnosis_text": {
            "type": "string",
            "title": "Diagnosis Text"
          },
          "diagnosis_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diagnosis Code"
          },
          "medications": {
            "items": {
              "$ref": "#/components/schemas/MedicationItem"
            },
            "type": "array",
            "title": "Medications"
          },
          "instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instructions"
          },
          "is_favorite": {
            "type": "boolean",
            "title": "Is Favorite",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name",
          "diagnosis_text",
          "medications"
        ],
        "title": "TemplateCreate"
      },
      "TemplateListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/TemplateResponse"
            },
            "type": "array",
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "items",
          "total"
        ],
        "title": "TemplateListResponse"
      },
      "TemplateResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "diagnosis_text": {
            "type": "string",
            "title": "Diagnosis Text"
          },
          "diagnosis_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diagnosis Code"
          },
          "medications": {
            "items": {
              "$ref": "#/components/schemas/MedicationItem"
            },
            "type": "array",
            "title": "Medications"
          },
          "instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instructions"
          },
          "is_favorite": {
            "type": "boolean",
            "title": "Is Favorite"
          },
          "is_global": {
            "type": "boolean",
            "title": "Is Global",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "diagnosis_text",
          "medications",
          "is_favorite"
        ],
        "title": "TemplateResponse"
      },
      "TemplateUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "diagnosis_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diagnosis Text"
          },
          "diagnosis_code": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diagnosis Code"
          },
          "medications": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/MedicationItem"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Medications"
          },
          "instructions": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Instructions"
          },
          "is_favorite": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Favorite"
          }
        },
        "type": "object",
        "title": "TemplateUpdate"
      },
      "TokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "practitioner": {
            "$ref": "#/components/schemas/PractitionerResponse"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "practitioner"
        ],
        "title": "TokenResponse",
        "description": "Token response schema."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "/api/v1/auth/login"
          }
        }
      }
    }
  }
}